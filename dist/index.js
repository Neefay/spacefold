"use strict";var i=Object.defineProperty;var a=Object.getOwnPropertyDescriptor;var d=Object.getOwnPropertyNames;var l=Object.prototype.hasOwnProperty;var x=(r,e)=>{for(var t in e)i(r,t,{get:e[t],enumerable:!0})},y=(r,e,t,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of d(e))!l.call(r,o)&&o!==t&&i(r,o,{get:()=>e[o],enumerable:!(n=a(e,o))||n.enumerable});return r};var m=r=>y(i({},"__esModule",{value:!0}),r);var g={};x(g,{pub:()=>v,sub:()=>w,useSub:()=>C});module.exports=m(g);var T=require("react");function f(r){let e=(0,T.useRef)();return e.current||(e.current={v:r()}),e.current.v}var u=require("react"),S=typeof window<"u",P=S?u.useLayoutEffect:u.useEffect,p=P;function v(){let r=Symbol(),e=new Set;return{id:r,listeners:e,send(...t){for(let n of e)n(...t)},subscribe(t){return e.add(t),{unsubscribe(){e.delete(t)}}}}}function w(r){let e=Symbol(),t=new Set;function n(o,b){p(()=>{if(r.register.every(s=>s.id!==o.id))throw new Error("This publisher is not register on your subscriber");let c=o.subscribe(async(...s)=>{await b(...s)});return t.add(c),()=>{c.unsubscribe()}},[b])}return{id:e,on:n}}function C(r){return{on:f(()=>r.on)}}
//# sourceMappingURL=index.js.map